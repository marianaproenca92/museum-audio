/* ===== Glitched CRT base skin (structure + scanlines) ===== */
:root{
  --bg:#0a0f0a; --fg:#c8ffd8; --muted:#78b492; --accent:#27f39a;
  --danger:#ff3b3b; --scanline:rgba(255,255,255,.04); --ghost:rgba(39,243,154,.15);
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:radial-gradient(circle at 50% 0%, #0e120e 0%, #070a07 60%, #040604 100%);
  color:var(--fg); font:16px/1.55 var(--mono); letter-spacing:.2px;
  overflow-x:hidden;
}

/* CRT frame */
.terminal{
  max-width:min(920px, 92vw); margin:4rem auto; padding:24px 28px;
  border:1px solid var(--ghost); border-radius:14px;
  background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.35));
  position:relative; box-shadow:0 0 0 1px rgba(39,243,154,.07), 0 20px 80px rgba(0,0,0,.6);
}
.terminal::before{ /* scanlines */
  content:""; position:absolute; inset:0; pointer-events:none;
  background:repeating-linear-gradient(to bottom, transparent 0 2px, var(--scanline) 2px 3px);
  mix-blend-mode:overlay; opacity:.5; border-radius:14px;
}
.terminal::after{ /* vignette */
  content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:16px;
  box-shadow:inset 0 0 120px rgba(0,0,0,.8);
}

.header{ display:flex; gap:10px; align-items:center; margin-bottom:18px; color:var(--muted) }
.dot{ width:10px; height:10px; border-radius:50%; background:var(--ghost); opacity:.7 }
.title{ font-weight:700; letter-spacing:.8px }

hr{ border:0; border-top:1px dashed var(--ghost); opacity:.5; margin:18px 0 }
small,.muted{ color:var(--muted) }

/* Glitch text */
.glitch{ position:relative; display:inline-block }
.glitch::before,.glitch::after{ content:attr(data-text); position:absolute; inset:0; pointer-events:none }
.glitch::before{ left:2px; text-shadow:-2px 0 var(--accent); clip-path:polygon(0 2%,100% 2%,100% 44%,0 44%) }
.glitch::after{ left:-2px; text-shadow:2px 0 var(--danger); clip-path:polygon(0 60%,100% 60%,100% 98%,0 98%) }
@keyframes flick{ 0%,100%{opacity:1} 92%{opacity:.8} 94%{opacity:.6} 96%{opacity:.95} }
.flick{ animation:flick 1.8s infinite steps(20) }

/* Panels */
.panel{ border:1px solid var(--ghost); border-radius:10px; padding:14px 16px; background:rgba(2,6,3,.55) }
.panel + .panel{ margin-top:12px }
.kv{ display:grid; grid-template-columns:160px 1fr; gap:6px 12px }
.kv dt{ color:var(--muted) }
.kv dd{ margin:0 }

/* RUN button (generic theme baseline; page-specific overrides later) */
.run-wrap{ position:relative; margin-top:18px }
.run-btn{
  display:inline-block; border:1px solid var(--accent); color:var(--accent);
  padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:700; letter-spacing:.6px;
  background:rgba(39,243,154,.07); transition:transform .12s ease, box-shadow .12s ease;
}
.run-btn:hover{ box-shadow:0 0 0 3px rgba(39,243,154,.12) }

/* Differences game */
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:16px }
.frame{ position:relative; border:1px solid var(--ghost); border-radius:10px; overflow:hidden }
.frame img{ display:block; width:100%; height:auto }
.marker{ position:absolute; width:22px; height:22px; border:2px solid var(--accent); border-radius:50%;
  transform:translate(-50%,-50%); box-shadow:0 0 0 2px rgba(39,243,154,.15) }
.badge{ position:absolute; top:10px; right:10px; background:rgba(0,0,0,.55); border:1px solid var(--ghost); padding:6px 8px; border-radius:8px }

.footer{ margin-top:16px; display:flex; justify-content:space-between; align-items:center }

/* Typewriter */
.type{ border-right:2px solid var(--accent); white-space:pre-wrap; overflow:hidden }

@media (max-width:780px){ .kv{ grid-template-columns:1fr } .grid{ grid-template-columns:1fr } }

/* Keep CRT overlays behind content by default (helps every page) */
.terminal::before, .terminal::after{ z-index:0; }