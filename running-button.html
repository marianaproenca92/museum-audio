<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Nó de Arquivo 23 — O Botão Fugitivo</title>
<link rel="stylesheet" href="css/intro.css">
  <link rel="stylesheet" href="css/terminal.css">
  <link rel="stylesheet" href="css/text-glitcher.css">
</head>
<body>
<div id="intro" class="wrap terminal" style="display:none"></div>

<div id="content" class="wrap">
  <div class="terminal crt">
    <h1 data-glitch>Arquivo 23</h1>
    <div class="subtitle" data-glitch>«O Botão Fugitivo»</div>
    <div class="help mt-1" data-glitch>
      [O MUSEU]: Objeto instável detetado. Aproxima-te com cuidado… se conseguires.
      <span class="blink"></span>
    </div>

    <button id="btn-floating" class="btn-ritual btn-floating" aria-label="Ativar Registo">Ativar Registo</button>

    <audio id="ritual-audio" controls>
      <source src="audio/fugitivo.mp3" type="audio/mpeg">
    </audio>

    <div class="help mt-2" id="post" style="display:none" data-glitch>
      [O MUSEU]: Registo localizado. Mantém-te por perto.
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>
  <script src="js/intro.js"></script>
  <script src="js/intro-runner.js"></script>
  <script src="js/running-button.js"></script>
  <script src="js/screen_glitch.js"></script>
  <script src="js/text-glitcher.js"></script>
  <script>
   runIntro(() => {
    const content = document.getElementById('content');
    if (content) content.style.display = 'block';

    // init the runaway button ONLY after intro ends
    if (typeof initRunawayButton === 'function') {
      initRunawayButton({
        btn: '#btn-floating',
        audio: '#ritual-audio',
        padding: 16,
        onPlay: () => document.getElementById('post').style.display = 'block'
      });
    }
  });
</script>
</body>
</html>
